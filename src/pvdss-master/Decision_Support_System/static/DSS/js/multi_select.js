function genRnd(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function removeItem(e){var t=$("#access_multi_select-"+e.split("-")[0]),i=t.find('[data-val="'+e+'"]');t.find('[id="'+e+'"]').prop("checked",!1),i.remove(),t.find(".selected-items > .item").length<1&&t.find(".selected-items > .placeholder").show()}function selectAll(e,t){var i=$("#access_multi_select-"+e);i.find(".selected-items").find("item").prop("checked",!0),t?(i.find(".placeholder").hide(),i.find(".selected-items > .item").remove(),i.find(".dropdown > .items").find("input").each(function(){var e=$(this);e.prop("checked",!0),i.find(".selected-items").append('<span class="item" data-val="'+e.attr("id")+'">'+e.parent().find("label").html()+'   <button type="button" onclick="removeItem($(this).parent().attr(\'data-val\'));">&times;</button></span>')})):alert("Multi-Select option is off! \nPlease turn it on to select all.")}function deselectAll(e){var t=$("#access_multi_select-"+e);t.find(".dropdown").find("input").prop("checked",!1),t.find(".selected-items > .placeholder").show(),t.find(".selected-items > .item").remove()}!function(n){var l,t,s,i,c,o,a={init:function(e){if(l=n.extend({multi_select:!0,items:[],defaults:[],filter_text:"Filter",rtl:!1,case_sensitive:!1},e),t=n(this),i=genRnd(1e3,1e4),t.css({display:"none",position:"absolute"}),s=n('<div class="access_multi_select '+(l.rtl?"rtl":"")+'" id="access_multi_select-'+i+'">   <div class="selected-items form-control">      <span class="placeholder">'+t.attr("placeholder")+'</span>      <button type="button" onclick="selectAll('+i+", "+l.multi_select+')"></button>      <button type="button" onclick="deselectAll('+i+')"></button>   </div>   <div class="dropdown form-control">       <div class="filter">           <input type="text" class="form-control" placeholder="'+l.filter_text+'">           <button type="button" onclick="$(this).parent().find(\'input\').val(\'\').focus()">&times;</button>       </div>       <div class="items"></div>   </div></div>').insertAfter(t),c=s.find(".dropdown"),o=s.find(".selected-items"),0<l.defaults.length&&o.find(".placeholder").hide(),l.multi_select||!(1<l.defaults.length))return l.items.forEach(function(e){s.find(".items").append('<div class="item">   <div class="custom-control custom-checkbox">       <input type="checkbox" class="custom-control-input" id="'+i+"-chbx-"+e.value+'" '+(l.defaults.includes(e.value)?"checked":"")+'>       <label class="custom-control-label '+i+"-chbx-"+e.value+'" for="'+i+"-chbx-"+e.value+'">'+e.text+"</label>   </div></div>"),l.defaults.includes(e.value)&&o.append('<span class="item" data-val="'+i+"-chbx-"+e.value+'">'+e.text+'   <button type="button" onclick="removeItem($(this).parent().attr(\'data-val\'));">&times;</button></span>')}),c.click(function(e){e.stopPropagation()}),n(document).mouseup(function(e){s.is(e.target)||0!==s.has(e.target).length||(o.removeClass("expand"),c.removeClass("expand"))}),c.find(".item").click(function(e){e.stopPropagation(),e.preventDefault();var t=n(this),i=t.find("input");o.find(".item").length<1&&o.find(".placeholder").hide(),i.prop("checked")?(o.find('[data-val="'+i.attr("id")+'"]').remove(),i.prop("checked",!1),o.find(".item").length<1&&o.find(".placeholder").show()):(l.multi_select||(c.find(".item input").prop("checked",!1),s.find(".selected-items > .item").remove()),i.prop("checked",!0),s.find(".selected-items").append('<span class="item" data-val="'+i.attr("id")+'">'+t.find("label").html()+'   <button type="button" onclick="removeItem($(this).parent().attr(\'data-val\'));">&times;</button></span>'))}),s.on("click",function(){c.addClass("expand"),o.addClass("expand")}),s.find('input[type="text"]').on("keyup focus",function(){var t=n(this).val();l.case_sensitive?c.find(".item").each(function(){var e=n(this);e.html().includes(t)?e.show():e.hide()}):c.find(".item").each(function(){var e=n(this);e.html().toLowerCase().includes(t.toLowerCase())?e.show():e.hide()})}),s;alert("Multi-Select is off! \nPlease turn it on to select more than one item.")},nt_nodes:function(){var t=[];return s.find(".dropdown").find("input").each(function(){var e=n(this);e.prop("checked")&&t.push(e.attr("id").split("-")[2])}),t}};n.fn.check_multi_select=function(e){return a[e]?a[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void n.error("Method "+e+" does not exist on jQuery.check_multi_select"):a.init.apply(this,arguments)}}(jQuery);